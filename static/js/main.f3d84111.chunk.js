(this["webpackJsonpreact-fundamentals"]=this["webpackJsonpreact-fundamentals"]||[]).push([[0],{1:function(e,a,t){e.exports={"compare-button":"modal_compare-button__QrLfo","general-container":"modal_general-container__25mnM","images-container":"modal_images-container__2eFBr","image-container":"modal_image-container__wfdec","description-container":"modal_description-container__2U_UN","data-container":"modal_data-container__3VMJX","data-box":"modal_data-box__1Tx-O","modal-subtitle":"modal_modal-subtitle__2aA61","compare-space":"modal_compare-space__3rq-4","compare-container":"modal_compare-container__3N7lH","compare-abilities":"modal_compare-abilities__3eNVU","compare-text":"modal_compare-text__B36US",graphics:"modal_graphics__2ixTJ"}},172:function(e,a,t){"use strict";t.r(a);t(65),t(66);var n=t(0),r=t.n(n),c=t(27),o=t.n(c),i=t(9),l=t(15),m=t(60),s=t.n(m),d=t(61),p=t(5),u={pokemons:[],isFetching:!1,error:null,searchedPokemons:[],offset:0};var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_POKEMONS_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{isFetching:!0});case"FETCH_POKEMONS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{isFetching:!1,pokemons:e.pokemons.concat(a.payload.pokemons.map((function(a,t){var n=t+e.pokemons.length+1;return Object(p.a)(Object(p.a)({},a),{},{index:n})}))),searchedPokemons:e.searchedPokemons.concat(a.payload.pokemons.map((function(a,t){var n=t+e.pokemons.length+1;return Object(p.a)(Object(p.a)({},a),{},{index:n})}))),offset:e.offset+20});case"FETCH_POKEMONS_ERROR":return Object(p.a)(Object(p.a)({},e),{},{isFetching:!1,error:a.payload.error});case"SEARCH_POKEMON":return Object(p.a)(Object(p.a)({},e),{},{searchedPokemons:e.pokemons.filter((function(e,t){return e.name.startsWith(a.payload.name)}))});default:return e}},_=t(29),f={descriptions:[],isSelected:!1,currentPokemon:"",currentIndex:0,description:[],genders:[]};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_SELECTED_POKEMON":return Object(p.a)(Object(p.a)({},e),{},{currentIndex:e.descriptions.length,descriptions:[].concat(Object(_.a)(e.descriptions),[a.payload.description]),isSelected:!0,currentPokemon:a.payload.name,description:[].concat(Object(_.a)(e.description),[a.payload.text]),genders:[].concat(Object(_.a)(e.genders),[a.payload.gender>4?"Female":"Male"])});case"FETCH_SELECTED_ERROR":return{error:a.payload.error};case"EXISTING_POKEMON":return Object(p.a)(Object(p.a)({},e),{},{currentPokemon:a.payload.name,currentIndex:a.payload.index});default:return e}},b={isCompared:!1,compareTo:{},gender:""};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"COMPARE_POKEMON":return{isCompared:!0,compareTo:a.payload.compareTo,gender:a.payload.gender};case"WITHOUT_COMPARE":return{isCompared:!1};default:return e}},v=Object(l.c)({pokemons:E,select:g,compare:h}),k=Object(l.d)(v,Object(l.a)(s.a,d.a)),N=t(3),x=t.n(N),O=t(1),y=t.n(O),C=t(62),P=Object(i.b)((function(e){return{select:e.select,compare:e.compare}}))((function(e){var a=e.select,t=e.compare,n={labels:a.descriptions[a.currentIndex].stats.map((function(e){return e.stat.name})),datasets:[{label:a.currentPokemon,backgroundColor:"rgb(56,120,107)",hoverBackgroundColor:"rgba(56,120,107,0.5)",data:a.descriptions[a.currentIndex].stats.map((function(e){return e.base_stat}))}]};t.isCompared&&n.datasets.push({label:t.compareTo.name,backgroundColor:"rgb(73,91,41)",hoverBackgroundColor:"rgba(73,91,41,0.5)",data:t.compareTo.stats.map((function(e){return e.base_stat}))});return r.a.createElement("div",{className:"modal-footer "+y.a.graphics},r.a.createElement(C.Bar,{data:n,options:{legend:{display:!1},maintainAspectRatio:!1,responsive:!0,title:{display:!0,text:"Stats",fontSize:20,fontColor:"black"},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}))})),T=Object(i.b)((function(e){return{select:e.select,compare:e.compare}}))((function(e){var a=e.select,t=e.compare;return a.isSelected?r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:y.a["images-container"]+" "+y.a["general-container"]},r.a.createElement("div",{className:x.a["image-container"]},r.a.createElement("img",{className:x.a["pokemon-image"],alt:a.currentPokemon,src:a.descriptions[a.currentIndex].sprites.front_default})),r.a.createElement("div",{className:x.a["image-container"]},r.a.createElement("img",{className:x.a["pokemon-image"],alt:t.compareTo.name,src:t.compareTo.sprites.front_default}))),r.a.createElement("div",{className:y.a["compare-container"]},r.a.createElement("div",{className:y.a["compare-text"]},a.descriptions[a.currentIndex].height,"m"),r.a.createElement("div",{className:y.a["modal-subtitle"]+" "+y.a["compare-space"]},"Height"),r.a.createElement("div",{className:y.a["compare-text"]},t.compareTo.height,"m"),r.a.createElement("div",{className:y.a["compare-text"]},a.descriptions[a.currentIndex].weight,"kg"),r.a.createElement("div",{className:y.a["modal-subtitle"]+" "+y.a["compare-space"]},"Weight"),r.a.createElement("div",{className:y.a["compare-text"]},t.compareTo.weight,"kg"),r.a.createElement("div",{className:y.a["compare-text"]},a.genders[a.currentIndex]),r.a.createElement("div",{className:y.a["modal-subtitle"]+" "+y.a["compare-space"]},"Gender"),r.a.createElement("div",{className:y.a["compare-text"]},t.gender),r.a.createElement("div",{className:y.a["compare-abilities"]},a.descriptions[a.currentIndex].abilities.map((function(e){return r.a.createElement("div",{className:y.a["compare-text"],key:e.ability.url},e.ability.name)}))),r.a.createElement("div",{className:y.a["modal-subtitle"]+" "+y.a["compare-space"]},"Abilities"),r.a.createElement("div",{className:y.a["compare-abilities"]},t.compareTo.abilities.map((function(e){return r.a.createElement("div",{className:y.a["compare-text"],key:e.ability.url},e.ability.name)}))))):r.a.createElement("div",null)})),S=Object(i.b)((function(e){return{select:e.select,compare:e.compare}}),(function(e){return{removeCompare:function(){return e((function(e){e({type:"WITHOUT_COMPARE"})}))},comparePokemon:function(a,t){return e(function(e,a){return function(t){t({type:"COMPARE_POKEMON",payload:{compareTo:e,gender:a}})}}(a,t))}}}))((function(e){var a=e.select,t=e.compare,n=e.comparePokemon,c=e.removeCompare;if(a.isSelected){return r.a.createElement("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},a.currentPokemon.toUpperCase()),t.isCompared?r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"\xa0 VS. ",t.compareTo.name.toUpperCase()):r.a.createElement("button",{onClick:function(){n(a.descriptions[a.currentIndex],a.genders[a.currentIndex])},"data-dismiss":"modal",className:y.a["compare-button"]},"Compare to..."),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){t.isCompared&&c()}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),t.isCompared?r.a.createElement(T,null):r.a.createElement("div",{className:"modal-body "+y.a["general-container"]},r.a.createElement("div",{className:x.a["image-container"]+" "+y.a["image-container"]},r.a.createElement("img",{className:x.a["pokemon-image"],alt:a.currentPokemon,src:a.descriptions[a.currentIndex].sprites.front_default})),r.a.createElement("div",null,r.a.createElement("p",{className:y.a["description-container"]},a.description[a.currentIndex]),r.a.createElement("div",{className:y.a["data-container"]},r.a.createElement("div",{className:y.a["data-box"]},r.a.createElement("div",{className:y.a["modal-subtitle"]},"Height"),r.a.createElement("div",null,a.descriptions[a.currentIndex].height,"m")),r.a.createElement("div",{className:y.a["data-box"]},r.a.createElement("div",{className:y.a["modal-subtitle"]},"Weight"),r.a.createElement("div",null,a.descriptions[a.currentIndex].weight,"kg")),r.a.createElement("div",{className:y.a["data-box"]},r.a.createElement("div",{className:y.a["modal-subtitle"]},"Gender"),r.a.createElement("div",null,a.genders[a.currentIndex])),r.a.createElement("div",{className:y.a["data-box"]},r.a.createElement("div",{className:y.a["modal-subtitle"]},"Abilities"),r.a.createElement("ul",null,a.descriptions[a.currentIndex].abilities.map((function(e){return r.a.createElement("li",{key:e.ability.url},e.ability.name)})))),r.a.createElement("div",{className:y.a["data-box"]},r.a.createElement("div",{className:y.a["modal-subtitle"]},"Type"),r.a.createElement("ul",null,a.descriptions[a.currentIndex].types.map((function(e){return r.a.createElement("li",{key:e.type.url},e.type.name)}))))))),r.a.createElement(P,null))))}return r.a.createElement("div",null)})),j=Object(i.b)((function(e){return{select:e.select,pokemons:e.pokemons,compare:e.compare}}),(function(e){return{fetchPokemons:function(a){return e((t=a,function(e){e({type:"FETCH_POKEMONS_REQUEST"}),fetch("https://pokeapi.co/api/v2/pokemon/?limit=20&offset=".concat(t)).then((function(e){return e.json()})).then((function(a){e({type:"FETCH_POKEMONS_SUCCESS",payload:{pokemons:a.results}})})).catch((function(a){e({type:"FETCH_POKEMONS_ERROR",error:a.toString()})}))}));var t},getExistingPokemon:function(a,t){return e(function(e,a){return function(t){t({type:"EXISTING_POKEMON",payload:{name:e,index:a}})}}(a,t))},fetchSelectedPokemon:function(a){return e((t=a,function(e){fetch("https://pokeapi.co/api/v2/pokemon/".concat(t)).then((function(e){return e.json()})).then((function(a){fetch(a.species.url).then((function(e){return e.json()})).then((function(n){e({type:"FETCH_SELECTED_POKEMON",payload:{description:a,name:t,text:n.flavor_text_entries[1].flavor_text,gender:n.genre_ratio}})}))})).catch((function(a){e({type:"FETCH_SELECTED_ERROR",error:a.toString()})}))}));var t}}}))((function(e){var a=e.select,t=e.pokemons,c=e.compare,o=e.fetchPokemons,i=e.getExistingPokemon,l=e.fetchSelectedPokemon;Object(n.useEffect)((function(){0===t.offset&&o(t.offset)}),[o,t.offset]),Object(n.useEffect)((function(){if(!t.isFetching){var e=function(){var e=document.documentElement.scrollHeight;if((e-(window.innerHeight+document.documentElement.scrollTop))/e===0){var a=t.offset;o(a)}};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}}),[t.isFetching,t.offset,o]);return r.a.createElement("div",{className:x.a["general-content"]},r.a.createElement("div",{className:x.a["pokemons-container"]},t.searchedPokemons.map((function(e){return r.a.createElement("div",{className:x.a["pokemon-container"],key:"".concat(e.name,"-").concat(e.index),onClick:function(){!function(e){var t=!1;a.descriptions.length>0?(a.descriptions.forEach((function(a,n){a.name===e&&(i(e,n),t=!0)})),t||l(e)):l(e)}(e.name)}},r.a.createElement("div",{className:x.a["image-container"]},r.a.createElement("img",{className:x.a["pokemon-image"],alt:e.name,src:(t=e.index,"https://raw.githubusercontent.com/PokeAPI/sprites/146c91287ad01f6e15315bbd733fd7442c91fe6d/sprites/pokemon/".concat(t,".png")),"data-toggle":"modal","data-target":"#exampleModal"})),r.a.createElement("div",{className:x.a["pokemon-name"]},r.a.createElement("p",{className:x.a["name-text"]},e.name.toUpperCase())));var t}))),c.isCompared?r.a.createElement("div",{className:x.a["compare-card"]},r.a.createElement("p",{className:x.a["compare-card-title"]}," Comparing pokemon "),r.a.createElement("p",{className:x.a["compare-subtitle"]},c.compareTo.name.toUpperCase())):r.a.createElement("div",null),r.a.createElement(S,null))})),I=t(20),M=Object(i.b)((function(e){return{state:e}}),(function(e){return{searchPokemon:function(a){return e(function(e){return function(a){a({type:"SEARCH_POKEMON",payload:{name:e}})}}(a))}}}))((function(e){var a=e.searchPokemon;return r.a.createElement("div",{className:x.a.header},r.a.createElement("div",{className:x.a["header-text"]},r.a.createElement(I.b,{to:"/",className:x.a["header-title"]},"Pok\xe9App"),r.a.createElement(I.b,{to:"/pokemons",className:x.a["header-subtitle"]},"Pokemons")),r.a.createElement("div",null,r.a.createElement("input",{type:"search",name:"buscar",className:x.a["header-input"],placeholder:"Search",onChange:function(e){var t=e.target.value;a(t)}})))})),R=t(63),w=t.n(R),F=function(){return r.a.createElement("div",{className:x.a},r.a.createElement("div",{className:w.a.general}))},H=t(4),A=function(){return r.a.createElement(I.a,{basename:"/"},r.a.createElement(i.a,{store:k},r.a.createElement(M,null),r.a.createElement(H.a,{path:"/",exact:!0,render:F}),r.a.createElement(H.a,{path:"/pokemons",component:j})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root"))},3:function(e,a,t){e.exports={header:"general_header__wYwG0","header-text":"general_header-text__34CAE","header-title":"general_header-title__3uDx4","header-subtitle":"general_header-subtitle__QuJVE","header-input":"general_header-input__1VIjB","general-content":"general_general-content__1xi7V","compare-card":"general_compare-card__1Gh3l","compare-card-title":"general_compare-card-title__2nTv0","compare-subtitle":"general_compare-subtitle__3GIog","pokemons-container":"general_pokemons-container__1j2eW","pokemon-container":"general_pokemon-container__2G_kT","image-container":"general_image-container__1lbip","pokemon-image":"general_pokemon-image__1RCLt","pokemon-name":"general_pokemon-name__3T0ku","name-text":"general_name-text__fFAen"}},63:function(e,a,t){e.exports={general:"welcome_general__1f_vs"}},64:function(e,a,t){e.exports=t(172)}},[[64,1,2]]]);
//# sourceMappingURL=main.f3d84111.chunk.js.map